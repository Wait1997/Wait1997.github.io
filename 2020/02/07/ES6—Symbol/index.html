<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>ES6—Symbol</title><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=Edge，chrome=1"><meta name="description"><meta name="keywords"><meta name="author" content="xiaoxiong"><link rel="short icon" href="/images/favicon.png"><link rel="icon" href="/images/favicon.png"><!--[if lt IE 9]>
<script src="/js/modernizr.js"></script>
<![endif]-->
<link rel="stylesheet" href="/css/iconfont.css">

<link rel="stylesheet" href="/css/index.css?v=202002131403.css">
<link rel="stylesheet" href="/css/info.css?v=202002131403.css">
<link href="https://cdn.bootcss.com/highlight.js/9.15.9/styles/github.min.css" rel="stylesheet"><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Wait1997" type="application/atom+xml">
</head><body><header id="header" class="header-navigation"><nav><div class="logo"><a href="http://yoursite.com">Wait1997</a></div><h2 id="mnavh"><span class="navicon"></span></h2><ul id="starlist"><li><a href="/">首页</a></li><li><a href="/time.html">时间轴</a></li></ul><div class="searchbox"><div id="search_bar" class="search_bar"><input id="keyboard" placeholder="想搜点什么呢.." type="text" name="keyboard" autocomplete="off" class="input"><p class="search_ico"><span></span></p></div></div></nav></header><article><main><div class="con_warp"><div class="infosbox"><div class="newsview"><h3 class="news_title">ES6—Symbol</h3><div class="bloginfo"><ul><li class="author">作者：<a href="/">xiaoxiong</a></li><li class="lmname"><a href="/"></a></li><li class="timer">时间：2020-02-07 15:52:20</li><li class="view"><span id="busuanzi_value_page_pv">99</span><span>次访问</span></li></ul></div><div class="tags"></div><div class="news_con"><h3 id="ES6—Symbol"><a href="#ES6—Symbol" class="headerlink" title="ES6—Symbol"></a>ES6—Symbol</h3><blockquote>
<p>ES6 引入了一种新的原始数据类型 Symbol，表示独一无二的值。</p>
</blockquote>
<h4 id="1-Symbol-值通过-Symbol-函数生成，使用-typeof，结果为-quot-symbol-quot"><a href="#1-Symbol-值通过-Symbol-函数生成，使用-typeof，结果为-quot-symbol-quot" class="headerlink" title="1.  Symbol 值通过 Symbol 函数生成，使用 typeof，结果为 &quot;symbol&quot;"></a>1.  <code>Symbol</code> 值通过 <code>Symbol</code> 函数生成，使用 <code>typeof</code>，结果为 <code>&quot;symbol&quot;</code></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> s); <span class="comment">// "symbol"</span></span><br></pre></td></tr></table></figure>

<h4 id="2-Symbol-函数前不能使用-new-命令，否则会报错。这是因为生成的-Symbol是一个原始类型的值，不是对象。"><a href="#2-Symbol-函数前不能使用-new-命令，否则会报错。这是因为生成的-Symbol是一个原始类型的值，不是对象。" class="headerlink" title="2. Symbol 函数前不能使用 new 命令，否则会报错。这是因为生成的 Symbol是一个原始类型的值，不是对象。"></a>2. <code>Symbol</code> 函数前不能使用 <code>new 命令</code>，否则会报错。这是因为生成的 <code>Symbol</code>是一个原始类型的值，不是对象。</h4><h4 id="3-instanceof-的结果为-false"><a href="#3-instanceof-的结果为-false" class="headerlink" title="3. instanceof 的结果为 false"></a>3. <code>instanceof</code> 的结果为 false</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="built_in">Symbol</span>(<span class="string">'foo'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s <span class="keyword">instanceof</span> <span class="built_in">Symbol</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="4-Symbol-函数可以接受一个字符串作为参数，表示对-Symbol-实例的描述，主要是为了在控制台显示，或者转为字符串时，比较容易区分"><a href="#4-Symbol-函数可以接受一个字符串作为参数，表示对-Symbol-实例的描述，主要是为了在控制台显示，或者转为字符串时，比较容易区分" class="headerlink" title="4. Symbol 函数可以接受一个字符串作为参数，表示对 Symbol 实例的描述，主要是为了在控制台显示，或者转为字符串时，比较容易区分"></a>4. <code>Symbol</code> 函数可以接受一个字符串作为参数，表示对 <code>Symbol</code> 实例的描述，主要是为了在控制台显示，或者转为字符串时，比较容易区分</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="built_in">Symbol</span>(<span class="string">'foo'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s1); <span class="comment">// Symbol(foo)</span></span><br></pre></td></tr></table></figure>

<h4 id="5-如果-Symbol-的参数是一个对象，就会调用该对象的-toString-方法，将其转为字符串，然后才生成一个-Symbol-值。"><a href="#5-如果-Symbol-的参数是一个对象，就会调用该对象的-toString-方法，将其转为字符串，然后才生成一个-Symbol-值。" class="headerlink" title="5. 如果 Symbol 的参数是一个对象，就会调用该对象的 toString 方法，将其转为字符串，然后才生成一个 Symbol 值。"></a>5. 如果 <code>Symbol</code> 的参数是一个对象，就会调用该对象的 <code>toString</code> 方法，将其转为字符串，然后才生成一个 Symbol 值。</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  toString() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'abc'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> sym = <span class="built_in">Symbol</span>(obj);</span><br><span class="line"><span class="built_in">console</span>.log(sym); <span class="comment">// Symbol(abc)</span></span><br></pre></td></tr></table></figure>

<h4 id="6-Symbol-函数的参数只是表示对当前-Symbol-值的描述，相同参数的-Symbol-函数的返回值是不相等的"><a href="#6-Symbol-函数的参数只是表示对当前-Symbol-值的描述，相同参数的-Symbol-函数的返回值是不相等的" class="headerlink" title="6. Symbol 函数的参数只是表示对当前 Symbol 值的描述，相同参数的 Symbol 函数的返回值是不相等的"></a>6. <code>Symbol</code> 函数的参数只是表示对当前 <code>Symbol</code> 值的描述，相同参数的 <code>Symbol</code> 函数的返回值是不相等的</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 没有参数的情况</span></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="keyword">var</span> s2 = <span class="built_in">Symbol</span>();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(s1 === s2); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 有参数的情况</span></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="built_in">Symbol</span>(<span class="string">'foo'</span>);</span><br><span class="line"><span class="keyword">var</span> s2 = <span class="built_in">Symbol</span>(<span class="string">'foo'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(s1 === s2); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="7-Symbol-值不能与其他类型的值进行运算，会报错"><a href="#7-Symbol-值不能与其他类型的值进行运算，会报错" class="headerlink" title="7. Symbol 值不能与其他类型的值进行运算，会报错"></a>7. <code>Symbol</code> 值不能与其他类型的值进行运算，会报错</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sym = <span class="built_in">Symbol</span>(<span class="string">'My symbol'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"your symbol is "</span> + sym); <span class="comment">// TypeError: can't convert symbol to string</span></span><br></pre></td></tr></table></figure>

<h4 id="8-Symbol-值可以显式转为字符串"><a href="#8-Symbol-值可以显式转为字符串" class="headerlink" title="8. Symbol 值可以显式转为字符串"></a>8. <code>Symbol</code> 值可以显式转为字符串</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sym = <span class="built_in">Symbol</span>(<span class="string">'My symbol'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(sym)); <span class="comment">// 'Symbol(My symbol)'</span></span><br><span class="line"><span class="built_in">console</span>.log(sym.toString()); <span class="comment">// 'Symbol(My symbol)'</span></span><br></pre></td></tr></table></figure>

<h4 id="9-Symbol-值可以作为标识符，用于对象的属性名，可以保证不会出现同名的属性"><a href="#9-Symbol-值可以作为标识符，用于对象的属性名，可以保证不会出现同名的属性" class="headerlink" title="9. Symbol 值可以作为标识符，用于对象的属性名，可以保证不会出现同名的属性"></a>9. <code>Symbol</code> 值可以作为标识符，用于对象的属性名，可以保证不会出现同名的属性</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mySymbol = <span class="built_in">Symbol</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第一种写法</span></span><br><span class="line"><span class="keyword">var</span> a = &#123;&#125;;</span><br><span class="line">a[mySymbol] = <span class="string">'Hello!'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二种写法</span></span><br><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">  [mySymbol]: <span class="string">'Hello!'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第三种写法</span></span><br><span class="line"><span class="keyword">var</span> a = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(a, mySymbol, &#123; <span class="attr">value</span>: <span class="string">'Hello!'</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 以上写法都得到同样结果</span></span><br><span class="line"><span class="built_in">console</span>.log(a[mySymbol]); <span class="comment">// "Hello!"</span></span><br></pre></td></tr></table></figure>

<h4 id="10-Symbol作为属性名，该属性不会出现在-for-in、for-of-循环中，也不会被-Object-keys-、Object-getOwnPropertyNames-、JSON-stringify-返回。但是，它也不是私有属性，有一个-Object-getOwnPropertySymbols-方法，可以获取指定对象的所有-Symbol-属性名。"><a href="#10-Symbol作为属性名，该属性不会出现在-for-in、for-of-循环中，也不会被-Object-keys-、Object-getOwnPropertyNames-、JSON-stringify-返回。但是，它也不是私有属性，有一个-Object-getOwnPropertySymbols-方法，可以获取指定对象的所有-Symbol-属性名。" class="headerlink" title="10. Symbol作为属性名，该属性不会出现在 for...in、for...of 循环中，也不会被 Object.keys()、Object.getOwnPropertyNames()、JSON.stringify() 返回。但是，它也不是私有属性，有一个 Object.getOwnPropertySymbols 方法，可以获取指定对象的所有 Symbol 属性名。"></a>10. <code>Symbol</code>作为属性名，该属性不会出现在 <code>for...in</code>、<code>for...of</code> 循环中，也不会被 <code>Object.keys()</code>、<code>Object.getOwnPropertyNames()</code>、<code>JSON.stringify()</code> 返回。但是，它也不是私有属性，有一个 <code>Object.getOwnPropertySymbols</code> 方法，可以获取指定对象的所有 <code>Symbol</code> 属性名。</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> a = <span class="built_in">Symbol</span>(<span class="string">'a'</span>);</span><br><span class="line"><span class="keyword">var</span> b = <span class="built_in">Symbol</span>(<span class="string">'b'</span>);</span><br><span class="line"></span><br><span class="line">obj[a] = <span class="string">'Hello'</span>;</span><br><span class="line">obj[b] = <span class="string">'World'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> objectSymbols = <span class="built_in">Object</span>.getOwnPropertySymbols(obj);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(objectSymbols);</span><br><span class="line"><span class="comment">// [Symbol(a), Symbol(b)]</span></span><br></pre></td></tr></table></figure>

<h4 id="11-如果我们希望使用同一个-Symbol-值，可以使用-Symbol-for。它接受一个字符串作为参数，然后搜索有没有以该参数作为名称的-Symbol值。如果有，就返回这个-Symbol-值，否则就新建并返回一个以该字符串为名称的-Symbol-值。"><a href="#11-如果我们希望使用同一个-Symbol-值，可以使用-Symbol-for。它接受一个字符串作为参数，然后搜索有没有以该参数作为名称的-Symbol值。如果有，就返回这个-Symbol-值，否则就新建并返回一个以该字符串为名称的-Symbol-值。" class="headerlink" title="11. 如果我们希望使用同一个 Symbol 值，可以使用 Symbol.for。它接受一个字符串作为参数，然后搜索有没有以该参数作为名称的 Symbol值。如果有，就返回这个 Symbol 值，否则就新建并返回一个以该字符串为名称的 Symbol 值。"></a>11. 如果我们希望使用同一个 <code>Symbol</code> 值，可以使用 <code>Symbol.for</code>。它接受一个字符串作为参数，然后搜索有没有以该参数作为名称的 <code>Symbol</code>值。如果有，就返回这个 <code>Symbol</code> 值，否则就新建并返回一个以该字符串为名称的 <code>Symbol</code> 值。</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="built_in">Symbol</span>.for(<span class="string">'foo'</span>);</span><br><span class="line"><span class="keyword">var</span> s2 = <span class="built_in">Symbol</span>.for(<span class="string">'foo'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(s1 === s2); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="12-Symbol-keyFor-方法返回一个已登记的-Symbol-类型值的-key"><a href="#12-Symbol-keyFor-方法返回一个已登记的-Symbol-类型值的-key" class="headerlink" title="12. Symbol.keyFor 方法返回一个已登记的 Symbol 类型值的 key"></a>12. <code>Symbol.keyFor</code> 方法返回一个已登记的 <code>Symbol</code> 类型值的 <code>key</code></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="built_in">Symbol</span>.for(<span class="string">"foo"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Symbol</span>.keyFor(s1)); <span class="comment">// "foo"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s2 = <span class="built_in">Symbol</span>(<span class="string">"foo"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Symbol</span>.keyFor(s2) ); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></div></div><div class="nextinfo"><p>上一篇：<a href="/2020/02/07/JavaScript%E2%80%94%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6/">JavaScript—执行机制</a></p><p>下一篇：<a href="/2020/02/07/JavaScript%E2%80%94%E4%B8%ADthis,apply,call,bind%E4%BD%BF%E7%94%A8/">JavaScript—中this,apply,call,bind使用</a></p></div><div class="news_pl"><div id="comment_container"></div>
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">

<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<script src="/js/md5.min.js"></script>
<script>const gitalk = new Gitalk({
    clientID: 'you github Client ID',
    clientSecret: 'you github Client Secret',
    repo: 'https://github.com/Wait1997',
    owner: 'xiaoxiong',
    admin: ['xiaoxiong'],
    id: md5("2020/02/07/ES6—Symbol/"),      // Ensure uniqueness and length less than 50
    distractionFreeMode: true  // Facebook-like distraction free mode
})
gitalk.render('comment_container')</script></div></div></div></main><aside class="r_box"><div class="card box"><h2>我的名片</h2><div class="box_con"><p>网名：Wait1997</p>
<p>职业：Web前端工程师</p>
<p>Email：pursue97@163.com</p>
</div></div><div class="category box"><h2>文章分类</h2><div class="box_con"></div></div><div class="wechat box"><h2>我的微信</h2><div class="box_con"><img src="/images/jj.jpg"></div></div></aside></article><footer><section class="footer_bottom"><div class="footer_container"><p class="copyright"></p><ul class="social_network"></ul></div></section></footer><div class="cd-top"><i class="iconfont icon-top"></i></div>
<script src="/js/jquery.min.js"></script>
<script src="/js/scrollreveal.js"></script>
<script src="/js/hc-sticky.js"></script>
<script src="/js/canvas-nest.js" type="text/javascript" color="47,135,193" opacity="0.7" zIndex="-2" count="199"></script><script src="https://cdn.bootcss.com/highlight.js/9.15.9/highlight.min.js"></script><script src="https://cdn.bootcss.com/highlight.js/9.15.9/languages/java.min.js"></script><script src="https://cdn.bootcss.com/highlight.js/9.15.9/languages/javascript.min.js"></script><script type="text/javascript">hljs.initHighlightingOnLoad();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="/js/common.js?v=202002131403.js"></script>
<script src="/js/index.js?v=202002131403.js"></script>
</body></html>